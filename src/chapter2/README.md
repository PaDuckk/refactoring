# 리팩터링 원칙

## 2.1 리팩터링 정의

- 리팩터링 하다 => 소프트웨어의 겉보기 동작은 그대로 유지한 채, 여러가지 리팩터링 기법을 적용해 소프트웨어를 재구성 한다.
- 누군가 "리팩터링하다가 코드가 깨져서 며칠이나 고생했다"라고 한다면, 십중팔구 리팩터링한 것이 아니다.

## 2.2 두 개의 모자

- 개발 할 때 목적이 기능추가인지 리팩터링인지 명확히 구분해 작업한다.
- 기능 추가 일때는 기존 코드는 절대 건드리지 않고 기능 추가만하고 테스트를 추가하고 통과하는지 확인하는 방식으로 측정한다.
- 리팩터링일때는 절대 기능추가하지 않고 코드 재구성에만 전념한다. 테스트도 새로 만들지 않는다. 부득이 인터페이스를 변경할때만 수정한다.

## 2.3 리팩터링하는 이유

- 리팩터링하면 소프트웨어 설계가 좋아진다.
- 리팩터링하면 소프트웨어를 이해하기 쉽다.
- 리팩터링하면 버그를 쉽게 찾을 수 있다.
  
- 나쁜 설계로 기능이 추가될 경우 갈수록 디버깅하기도 힘들고 기능추가도 매우 어려워진다.
- 하지만 좋은 설계로 내부의 구조를 모듈화하고 이해하기 쉽게 설계한다면 기존의 코드를 최대한 활용할 수 있어 새기능을 더빨리추가해 생산성이 올라간다.

## 2.4 언제 리팩터링해야 할까?

- 리팩터링 3의 법칙
1. 처음에는 그냥 한다.
2. 비슷한 일을 두 번째로 하게 되면 일단 계속 진행한다.
3. 비슷한 일을 세번째 하게 되면 리팩터링한다.

- 준비를 위한 리팩터링 
  - 기능을 추가하기전 곳곳에 중복된 코드가 있다면 리팩터링을 한다.
- 이해를 위한 리팩터링

## 2.5 리팩터링 시 고려할 문제


### 후기
  
- 2장은 리팩터링이 무엇이고 왜 해야하는지에 대해 설명해 주었다. 안좋은 예시에 대한 설명이 나올때 (테스트 코드 하나없는 레거시코드) 너무 찔렷다.
- 개발하면서도 한번 고치고 싶을 때가 있는데 괜히 건드렸다가 버그를 발생하는 일을 몇번 겪고나서는 레거시고 어떻게 고쳐야 할 지 보여도 정말 문제가 될 상황이 아니면 건드리지 못했다. 테스트 코드가 없기 때문에 ..
